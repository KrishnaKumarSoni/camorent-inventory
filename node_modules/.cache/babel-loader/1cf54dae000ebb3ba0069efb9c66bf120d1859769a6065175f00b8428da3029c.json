{"ast":null,"code":"import React,{useState,useEffect}from'react';import{X,Check,CircleNotch}from'phosphor-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProcessingModal=_ref=>{let{isOpen,onCancel,onComplete,audioBlob}=_ref;const[steps,setSteps]=useState([{id:'transcription',title:'Converting Speech',description:'Transcribing audio to text using AI',status:'pending'},{id:'extraction',title:'Understanding Equipment',description:'Extracting equipment details from description',status:'pending'},{id:'research',title:'Researching Specifications',description:'Browsing: amazon.in, flipkart.com, manufacturer sites',status:'pending'},{id:'preparation',title:'Preparing Form',description:'Organizing data for review',status:'pending'}]);const[currentStepIndex,setCurrentStepIndex]=useState(0);const[processingComplete,setProcessingComplete]=useState(false);const[processingError,setProcessingError]=useState(null);useEffect(()=>{if(isOpen&&audioBlob){startProcessing();}},[isOpen,audioBlob]);const updateStepStatus=(stepId,status)=>{setSteps(prev=>prev.map(step=>step.id===stepId?{...step,status}:step));};const startProcessing=async()=>{try{// Reset state\nsetProcessingComplete(false);setProcessingError(null);setCurrentStepIndex(0);if(!audioBlob){throw new Error('No audio data available');}// Call the API once and let it handle all the processing\nupdateStepStatus('transcription','processing');setCurrentStepIndex(0);// Check if this is a test/dummy blob\nconst isDummyBlob=audioBlob.size<=20;// Dummy blob is very small\nlet response;if(isDummyBlob){// Use sample data for testing\nresponse=await fetch('/api/process-audio',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sample:true})});}else{// Send the actual audio blob to the API\nconst formData=new FormData();formData.append('audio',audioBlob,'recording.webm');response=await fetch('/api/process-audio',{method:'POST',body:formData});}const result=await response.json();if(result.processing_status==='error'){throw new Error(result.error||'Processing failed');}// Mark all steps as completed immediately\nupdateStepStatus('transcription','completed');updateStepStatus('extraction','completed');updateStepStatus('research','completed');updateStepStatus('preparation','completed');setCurrentStepIndex(3);setProcessingComplete(true);// Transform API response to form data structure\n// The API returns data directly in the result object\nconst extractedEquipment=result;const confidenceScores=result.confidence_scores||{};// Complete immediately - no more fake delays\nonComplete({formData:{name:extractedEquipment.name||\"Equipment Item\",brand:extractedEquipment.brand||\"\",model:extractedEquipment.model||\"\",category:extractedEquipment.category||\"cameras\",description:extractedEquipment.description||\"Equipment recorded via voice\",serial_number:extractedEquipment.serialNumber||\"\",condition:extractedEquipment.condition||\"good\",purchase_price:extractedEquipment.purchasePrice||0,current_value:extractedEquipment.currentValue||0,price_per_day:extractedEquipment.pricePerDay||0,location:extractedEquipment.location||\"\",notes:extractedEquipment.notes||\"Recorded via voice\",specifications:extractedEquipment.specifications||{},barcode:extractedEquipment.barcode||\"\",security_deposit:extractedEquipment.securityDeposit||0,image_url:extractedEquipment.image_url||\"\"},confidenceScores:confidenceScores});}catch(error){console.error('Processing error:',error);setProcessingError(error instanceof Error?error.message:'Unknown error occurred');// Mark current step as error\nconst currentStep=steps[currentStepIndex];if(currentStep){updateStepStatus(currentStep.id,'error');}}};const handleRetry=()=>{// Reset all steps to pending\nsetSteps(prev=>prev.map(step=>({...step,status:'pending'})));setProcessingError(null);setProcessingComplete(false);startProcessing();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-container bg-black text-white p-8 min-h-screen flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-heading font-bold text-white text-2xl\",children:\"Processing Recording\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-white hover:text-gray-300 transition-colors p-2\",disabled:processingComplete,children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col justify-center space-y-8\",children:steps.map((step,index)=>{const isActive=currentStepIndex===index;const isCompleted=step.status==='completed';const isProcessing=step.status==='processing';const isError=step.status==='error';return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`\n                  w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300\n                  ${isCompleted?'bg-accent':isProcessing?'bg-accent animate-pulse':isError?'bg-red-500':'bg-gray-600'}\n                `,children:isCompleted?/*#__PURE__*/_jsx(Check,{size:24,weight:\"bold\"}):isProcessing?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin\",children:/*#__PURE__*/_jsx(CircleNotch,{size:24})}):isError?/*#__PURE__*/_jsx(X,{size:24,weight:\"bold\"}):/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:index+1})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`\n                    font-semibold text-lg transition-colors duration-300\n                    ${isActive||isCompleted?'text-white':'text-gray-400'}\n                  `,children:step.title}),/*#__PURE__*/_jsx(\"p\",{className:`\n                    text-sm transition-colors duration-300\n                    ${isActive||isCompleted?'text-gray-300':'text-gray-500'}\n                  `,children:step.description})]}),isProcessing&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-accent rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-accent rounded-full animate-pulse animation-delay-75\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-accent rounded-full animate-pulse animation-delay-150\"})]})]},step.id);})}),processingError&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-red-500 bg-opacity-20 border border-red-500 rounded-card p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-red-400 mb-2\",children:\"Processing Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm mb-4\",children:processingError}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,className:\"btn-secondary text-sm\",children:\"Retry Processing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-gray-400 hover:text-white transition-colors text-sm\",children:\"Cancel\"})]})]}),processingComplete&&!processingError&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-accent bg-opacity-20 border border-accent rounded-card p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Check,{size:32,weight:\"bold\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-accent mb-2\",children:\"Processing Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:\"Your equipment data has been extracted and is ready for review.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-accent\",children:[Math.round((currentStepIndex+(processingComplete?1:0))/steps.length*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-accent h-2 rounded-full transition-all duration-500 ease-out\",style:{width:`${(currentStepIndex+(processingComplete?1:0))/steps.length*100}%`}})})]})]})});};export default ProcessingModal;","map":{"version":3,"names":["React","useState","useEffect","X","Check","CircleNotch","jsx","_jsx","jsxs","_jsxs","ProcessingModal","_ref","isOpen","onCancel","onComplete","audioBlob","steps","setSteps","id","title","description","status","currentStepIndex","setCurrentStepIndex","processingComplete","setProcessingComplete","processingError","setProcessingError","startProcessing","updateStepStatus","stepId","prev","map","step","Error","isDummyBlob","size","response","fetch","method","headers","body","JSON","stringify","sample","formData","FormData","append","result","json","processing_status","error","extractedEquipment","confidenceScores","confidence_scores","name","brand","model","category","serial_number","serialNumber","condition","purchase_price","purchasePrice","current_value","currentValue","price_per_day","pricePerDay","location","notes","specifications","barcode","security_deposit","securityDeposit","image_url","console","message","currentStep","handleRetry","className","children","onClick","disabled","index","isActive","isCompleted","isProcessing","isError","weight","Math","round","length","style","width"],"sources":["/Users/admin/Desktop/Dev/camorent-inventory/src/components/ProcessingModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, Check, CircleNotch } from 'phosphor-react';\nimport { api } from '../utils/api';\n\ninterface ProcessingStep {\n  id: string;\n  title: string;\n  description: string;\n  status: 'pending' | 'processing' | 'completed' | 'error';\n}\n\ninterface ProcessingModalProps {\n  isOpen: boolean;\n  onCancel: () => void;\n  onComplete: (data: any) => void;\n  audioBlob: Blob | null;\n}\n\nconst ProcessingModal: React.FC<ProcessingModalProps> = ({\n  isOpen,\n  onCancel,\n  onComplete,\n  audioBlob\n}) => {\n  const [steps, setSteps] = useState<ProcessingStep[]>([\n    {\n      id: 'transcription',\n      title: 'Converting Speech',\n      description: 'Transcribing audio to text using AI',\n      status: 'pending'\n    },\n    {\n      id: 'extraction',\n      title: 'Understanding Equipment',\n      description: 'Extracting equipment details from description',\n      status: 'pending'\n    },\n    {\n      id: 'research',\n      title: 'Researching Specifications',\n      description: 'Browsing: amazon.in, flipkart.com, manufacturer sites',\n      status: 'pending'\n    },\n    {\n      id: 'preparation',\n      title: 'Preparing Form',\n      description: 'Organizing data for review',\n      status: 'pending'\n    }\n  ]);\n\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [processingComplete, setProcessingComplete] = useState(false);\n  const [processingError, setProcessingError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isOpen && audioBlob) {\n      startProcessing();\n    }\n  }, [isOpen, audioBlob]);\n\n  const updateStepStatus = (stepId: string, status: ProcessingStep['status']) => {\n    setSteps(prev => prev.map(step => \n      step.id === stepId ? { ...step, status } : step\n    ));\n  };\n\n  const startProcessing = async () => {\n    try {\n      // Reset state\n      setProcessingComplete(false);\n      setProcessingError(null);\n      setCurrentStepIndex(0);\n      \n      if (!audioBlob) {\n        throw new Error('No audio data available');\n      }\n\n      // Call the API once and let it handle all the processing\n      updateStepStatus('transcription', 'processing');\n      setCurrentStepIndex(0);\n      \n      // Check if this is a test/dummy blob\n      const isDummyBlob = audioBlob.size <= 20; // Dummy blob is very small\n      \n      let response;\n      if (isDummyBlob) {\n        // Use sample data for testing\n        response = await fetch('/api/process-audio', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ sample: true }),\n        });\n      } else {\n        // Send the actual audio blob to the API\n        const formData = new FormData();\n        formData.append('audio', audioBlob, 'recording.webm');\n        \n        response = await fetch('/api/process-audio', {\n          method: 'POST',\n          body: formData,\n        });\n      }\n      \n      const result = await response.json();\n      \n      if (result.processing_status === 'error') {\n        throw new Error(result.error || 'Processing failed');\n      }\n\n      // Mark all steps as completed immediately\n      updateStepStatus('transcription', 'completed');\n      updateStepStatus('extraction', 'completed');\n      updateStepStatus('research', 'completed');\n      updateStepStatus('preparation', 'completed');\n      setCurrentStepIndex(3);\n      setProcessingComplete(true);\n      \n      // Transform API response to form data structure\n      // The API returns data directly in the result object\n      const extractedEquipment = result;\n      const confidenceScores = result.confidence_scores || {};\n      \n      // Complete immediately - no more fake delays\n      onComplete({\n        formData: {\n          name: extractedEquipment.name || \"Equipment Item\",\n          brand: extractedEquipment.brand || \"\",\n          model: extractedEquipment.model || \"\", \n          category: extractedEquipment.category || \"cameras\",\n          description: extractedEquipment.description || \"Equipment recorded via voice\",\n          serial_number: extractedEquipment.serialNumber || \"\",\n          condition: extractedEquipment.condition || \"good\",\n          purchase_price: extractedEquipment.purchasePrice || 0,\n          current_value: extractedEquipment.currentValue || 0,\n          price_per_day: extractedEquipment.pricePerDay || 0,\n          location: extractedEquipment.location || \"\",\n          notes: extractedEquipment.notes || \"Recorded via voice\",\n          specifications: extractedEquipment.specifications || {},\n          barcode: extractedEquipment.barcode || \"\",\n          security_deposit: extractedEquipment.securityDeposit || 0,\n          image_url: extractedEquipment.image_url || \"\"\n        },\n        confidenceScores: confidenceScores\n      });\n\n    } catch (error) {\n      console.error('Processing error:', error);\n      setProcessingError(error instanceof Error ? error.message : 'Unknown error occurred');\n      \n      // Mark current step as error\n      const currentStep = steps[currentStepIndex];\n      if (currentStep) {\n        updateStepStatus(currentStep.id, 'error');\n      }\n    }\n  };\n\n  const handleRetry = () => {\n    // Reset all steps to pending\n    setSteps(prev => prev.map(step => ({ ...step, status: 'pending' })));\n    setProcessingError(null);\n    setProcessingComplete(false);\n    startProcessing();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50\">\n      <div className=\"mobile-container bg-black text-white p-8 min-h-screen flex flex-col\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <h2 className=\"font-heading font-bold text-white text-2xl\">\n            Processing Recording\n          </h2>\n          <button\n            onClick={onCancel}\n            className=\"text-white hover:text-gray-300 transition-colors p-2\"\n            disabled={processingComplete}\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {/* Progress Steps */}\n        <div className=\"flex-1 flex flex-col justify-center space-y-8\">\n          {steps.map((step, index) => {\n            const isActive = currentStepIndex === index;\n            const isCompleted = step.status === 'completed';\n            const isProcessing = step.status === 'processing';\n            const isError = step.status === 'error';\n\n            return (\n              <div key={step.id} className=\"flex items-center space-x-4\">\n                {/* Step Icon */}\n                <div className={`\n                  w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300\n                  ${isCompleted ? 'bg-accent' : \n                    isProcessing ? 'bg-accent animate-pulse' : \n                    isError ? 'bg-red-500' :\n                    'bg-gray-600'}\n                `}>\n                  {isCompleted ? (\n                    <Check size={24} weight=\"bold\" />\n                  ) : isProcessing ? (\n                    <div className=\"animate-spin\">\n                      <CircleNotch size={24} />\n                    </div>\n                  ) : isError ? (\n                    <X size={24} weight=\"bold\" />\n                  ) : (\n                    <span className=\"font-bold\">{index + 1}</span>\n                  )}\n                </div>\n\n                {/* Step Content */}\n                <div className=\"flex-1\">\n                  <h3 className={`\n                    font-semibold text-lg transition-colors duration-300\n                    ${isActive || isCompleted ? 'text-white' : 'text-gray-400'}\n                  `}>\n                    {step.title}\n                  </h3>\n                  <p className={`\n                    text-sm transition-colors duration-300\n                    ${isActive || isCompleted ? 'text-gray-300' : 'text-gray-500'}\n                  `}>\n                    {step.description}\n                  </p>\n                </div>\n\n                {/* Loading Animation */}\n                {isProcessing && (\n                  <div className=\"flex space-x-1\">\n                    <div className=\"w-2 h-2 bg-accent rounded-full animate-pulse\"></div>\n                    <div className=\"w-2 h-2 bg-accent rounded-full animate-pulse animation-delay-75\"></div>\n                    <div className=\"w-2 h-2 bg-accent rounded-full animate-pulse animation-delay-150\"></div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Error Message */}\n        {processingError && (\n          <div className=\"mt-8 bg-red-500 bg-opacity-20 border border-red-500 rounded-card p-4\">\n            <h4 className=\"font-semibold text-red-400 mb-2\">Processing Failed</h4>\n            <p className=\"text-gray-300 text-sm mb-4\">{processingError}</p>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={handleRetry}\n                className=\"btn-secondary text-sm\"\n              >\n                Retry Processing\n              </button>\n              <button\n                onClick={onCancel}\n                className=\"text-gray-400 hover:text-white transition-colors text-sm\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Success Message */}\n        {processingComplete && !processingError && (\n          <div className=\"mt-8 bg-accent bg-opacity-20 border border-accent rounded-card p-4 text-center\">\n            <div className=\"w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Check size={32} weight=\"bold\" />\n            </div>\n            <h4 className=\"font-semibold text-accent mb-2\">Processing Complete!</h4>\n            <p className=\"text-gray-300 text-sm\">\n              Your equipment data has been extracted and is ready for review.\n            </p>\n          </div>\n        )}\n\n        {/* Progress Bar */}\n        <div className=\"mt-8\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <span className=\"text-sm text-gray-400\">Progress</span>\n            <span className=\"text-sm text-accent\">\n              {Math.round(((currentStepIndex + (processingComplete ? 1 : 0)) / steps.length) * 100)}%\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-700 rounded-full h-2\">\n            <div\n              className=\"bg-accent h-2 rounded-full transition-all duration-500 ease-out\"\n              style={{\n                width: `${((currentStepIndex + (processingComplete ? 1 : 0)) / steps.length) * 100}%`\n              }}\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProcessingModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}